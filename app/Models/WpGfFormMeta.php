<?php

namespace App\Models;

use Illuminate\Database\Eloquent\Factories\HasFactory;
use Illuminate\Database\Eloquent\Model;
/**
 * @property integer $form_id
 * @property string $display_meta
 * @property string $entries_grid_meta
 * @property string $confirmations
 * @property string $notifications
 * @property WpGfForm $wpGfForm
 * @property object $getFields
 * @property array $getField
 * @property string $getFieldLabel
 * @property string getFieldType
 */
class WpGfFormMeta extends Model
{
    use HasFactory;
    protected $fillable=['form_id', 'display_meta', 'entries_grid_meta', 'confirmations', 'notifications'];

    public function wpGfForm()
    {
        return $this->belongsTo(WpGfForm::class,'form_id');
    }

    public  function getFields()
    {
        return json_decode($this->display_meta);
    }
    public  function getField($index)
    {
        return json_decode($this->display_meta)->fields[$index];
    }

    public  function getFieldType($index)
    {
        return json_decode($this->display_meta)->fields[$index]->type;
    }
    public function getFieldLabel($index)
    {
//        $a = json_decode('{"fields":[{"type":"html","id":1,"formId":19,"label":"HTML Block","adminLabel":"","isRequired":false,"size":"large","errorMessage":"","visibility":"visible","inputs":null,"displayOnly":true,"description":"","allowsPrepopulate":false,"inputMask":false,"inputMaskValue":"","inputMaskIsCustom":false,"maxLength":"","inputType":"","labelPlacement":"","descriptionPlacement":"","subLabelPlacement":"","placeholder":"","cssClass":"","inputName":"","noDuplicates":false,"defaultValue":"","enableAutocomplete":false,"autocompleteAttribute":"","choices":"","conditionalLogic":"","content":"<div style=\"width: 100%; text-align: center; color: #3a4a69\">\n    <b style=\"font-size: 24px; font-weight: bolder\">DIRECTIONS :<\/b> <br>\n    Assess how your behaviors & actions are currently being manifested <br>\n    within the workplace\n<\/div>\n<br>\n<div style=\"\">\n    <div style=\"background: white; padding: 20px; border-radius: 20px;\">\n        <div class=\"row\">\n            <div class=\"columns\"\n                 style=\"background: #ec6c6c; text-align: center; border-bottom-left-radius: 20px;border-top-left-radius: 20px\">\n                <input id=\"measure_0\" name=\"measure\" onchange=\"setValue(value)\" type=\"radio\" value=\"0\">\n            <\/div>\n            <div class=\"columns\" style=\"background: #ec6c6c; text-align: center\">\n                <input id=\"measure_1\" name=\"measure\" onchange=\"setValue(value)\" type=\"radio\" value=\"1\">\n            <\/div>\n            <div class=\"columns\" style=\"background: #ec6c6c; text-align: center\">\n                <input id=\"measure_2\" name=\"measure\" onchange=\"setValue(value)\" type=\"radio\" value=\"2\">\n            <\/div>\n            <div class=\"columns\" style=\"background: #ec6c6c; text-align: center\">\n                <input id=\"measure_3\" name=\"measure\" onchange=\"setValue(value)\" type=\"radio\" value=\"3\">\n            <\/div>\n            <div class=\"columns\" style=\"background: #84b454; text-align: center\">\n                <input id=\"measure_4\" name=\"measure\" onchange=\"setValue(value)\" type=\"radio\" value=\"4\">\n            <\/div>\n            <div class=\"columns\" style=\"background: #84b454; text-align: center\">\n                <input id=\"measure_5\" name=\"measure\" onchange=\"setValue(value)\" type=\"radio\" value=\"5\">\n            <\/div>\n            <div class=\"columns\" style=\"background: #84b454; text-align: center\">\n                <input id=\"measure_6\" name=\"measure\" onchange=\"setValue(value)\" type=\"radio\" value=\"6\">\n            <\/div>\n            <div class=\"columns\" style=\"background: #3a4a69; text-align: center\">\n                <input id=\"measure_7\" name=\"measure\" onchange=\"setValue(value)\" type=\"radio\" value=\"7\">\n            <\/div>\n            <div class=\"columns\" style=\"background: #3a4a69; text-align: center\">\n                <input id=\"measure_8\" name=\"measure\" onchange=\"setValue(value)\" type=\"radio\" value=\"8\">\n            <\/div>\n            <div class=\"columns\" style=\"background: #3a4a69; text-align: center\">\n                <input id=\"measure_9\" name=\"measure\" onchange=\"setValue(value)\" type=\"radio\" value=\"9\">\n            <\/div>\n            <div class=\"columns\"\n                 style=\"background: #3a4a69; text-align: center; border-bottom-right-radius: 20px;border-top-right-radius: 20px\">\n                <input id=\"measure_10\" name=\"measure\" onchange=\"setValue(value)\" type=\"radio\" value=\"10\">\n            <\/div>\n        <\/div>\n        <div class=\"row\">\n            <div class=\"columns\">\n                <label for=\"measure_0\">0<\/label>\n            <\/div>\n            <div class=\"columns\">\n                <label for=\"measure_1\">1<\/label>\n            <\/div>\n            <div class=\"columns\">\n                <label for=\"measure_2\">2<\/label>\n            <\/div>\n            <div class=\"columns\">\n                <label for=\"measure_3\">3<\/label>\n            <\/div>\n            <div class=\"columns\">\n                <label for=\"measure_4\">4<\/label>\n            <\/div>\n            <div class=\"columns\">\n                <label for=\"measure_5\">5<\/label>\n            <\/div>\n            <div class=\"columns\">\n                <label for=\"measure_6\">6<\/label>\n            <\/div>\n            <div class=\"columns\">\n                <label for=\"measure_7\">7<\/label>\n            <\/div>\n            <div class=\"columns\">\n                <label for=\"measure_8\">8<\/label>\n            <\/div>\n            <div class=\"columns\">\n                <label for=\"measure_9\">9<\/label>\n            <\/div>\n            <div class=\"columns\">\n                <label for=\"measure_10\">10<\/label>\n            <\/div>\n\n        <\/div>\n        <div class=\"row\">\n            <div class=\"columns\">\n                <label for=\"measure_0\">Manipulate<\/label>\n            <\/div>\n            <div class=\"columns\">\n                <label for=\"measure_1\"><\/label>\n            <\/div>\n            <div class=\"columns\">\n                <label for=\"measure_2\"><\/label>\n            <\/div>\n            <div class=\"columns\">\n                <label for=\"measure_3\">Influence<\/label>\n            <\/div>\n            <div class=\"columns\">\n                <label for=\"measure_4\">Enable<\/label>\n            <\/div>\n            <div class=\"columns\">\n                <label for=\"measure_5\"><\/label>\n            <\/div>\n            <div class=\"columns\">\n                <label for=\"measure_6\">Inspire<\/label>\n            <\/div>\n            <div class=\"columns\">\n                <label for=\"measure_7\">Motivate<\/label>\n            <\/div>\n            <div class=\"columns\">\n                <label for=\"measure_8\"><\/label>\n            <\/div>\n            <div class=\"columns\">\n                <label for=\"measure_9\"><\/label>\n            <\/div>\n            <div class=\"columns\">\n                <label for=\"measure_10\">Empower<\/label>\n            <\/div>\n\n        <\/div>\n    <\/div>\n<\/div>\n<br><br>\n<div style=\"width: 100%; text-align: center;color: #3a4a69\">\n    <b style=\"font-size: 24px\">DIRECTIONS :<\/b> <br>\n    Write values & practices which will intentionally drive a culture of grit & perseverance\n<\/div>\n<br>\n<div>\n    <div class=\"row-page20 border-radius-20px flex-start\">\n        <div class=\"row-page20 border-radius-20px flex-80\">\n            <div class=\"row-page20 border-radius-20px flex-70\">\n                <div class=\"row-page20 border-radius-20px flex-45\">\n                    <div class=\"columns-mini flex-100\">\n                        <div style=\"text-align: right; width: 100%\">\n                            CORE VALUES <br>\n                        <\/div>\n                        <textarea class=\"flex-100-textarea\" id=\"textarea_3\"><\/textarea>\n                    <\/div>\n                <\/div>\n\n                <div class=\"columns-mini flex-45-2\">\n\n                    SOCIAL NORMS <br>\n                    <textarea id=\"textarea_4\" style=\"width: 100%; height: 100%\"><\/textarea>\n\n                <\/div>\n            <\/div>\n            <div class=\"columns-mini flex-25\">\n                ROLE MODEL PRACTICES <br>\n                <textarea id=\"textarea_5\" style=\"width: 100%; height: 100%\"><\/textarea>\n            <\/div>\n        <\/div>\n        <div class=\"columns-mini flex-15\">\n            COMMUNICATIONS <br>\n            <textarea id=\"textarea_6\" style=\"width: 100%; height: 100%\"><\/textarea>\n        <\/div>\n    <\/div>\n<\/div>\n<script>\n    document.getElementById(\"textarea_3\").addEventListener(\"change\", function () {\n        document.getElementById(\"input_19_3\").value = document.getElementById(\"textarea_3\").value;\n    });\n    document.getElementById(\"textarea_4\").addEventListener(\"change\", function () {\n        document.getElementById(\"input_19_4\").value = document.getElementById(\"textarea_4\").value;\n    });\n    document.getElementById(\"textarea_5\").addEventListener(\"change\", function () {\n        document.getElementById(\"input_19_5\").value = document.getElementById(\"textarea_5\").value;\n    });\n    document.getElementById(\"textarea_6\").addEventListener(\"change\", function () {\n        document.getElementById(\"input_19_6\").value = document.getElementById(\"textarea_6\").value;\n    });\n\n    function setValue(value) {\n        document.getElementById(\"input_19_7\").value = value;\n    }\n\n<\/script>","disableMargins":"","productField":"","layoutGridColumnSpan":"","enableEnhancedUI":0,"layoutGroupId":"f633035e","multipleFiles":false,"maxFiles":"","calculationFormula":"","calculationRounding":"","enableCalculation":"","disableQuantity":false,"displayAllCategories":false,"useRichTextEditor":false,"pageNumber":1,"fields":""},{"type":"textarea","id":3,"formId":19,"label":"Core Values","adminLabel":"","isRequired":false,"size":"large","errorMessage":"","visibility":"hidden","inputs":null,"description":"","allowsPrepopulate":false,"inputMask":false,"inputMaskValue":"","inputMaskIsCustom":false,"maxLength":"","inputType":"","labelPlacement":"","descriptionPlacement":"","subLabelPlacement":"","placeholder":"","cssClass":"","inputName":"","noDuplicates":false,"defaultValue":"","enableAutocomplete":false,"autocompleteAttribute":"","choices":"","conditionalLogic":"","productField":"","layoutGridColumnSpan":3,"form_id":"","useRichTextEditor":false,"enableEnhancedUI":0,"layoutGroupId":"99861665","pageNumber":1,"fields":"","displayOnly":"","multipleFiles":false,"maxFiles":"","calculationFormula":"","calculationRounding":"","enableCalculation":"","disableQuantity":false,"displayAllCategories":false,"errors":[]},{"type":"textarea","id":4,"formId":19,"label":"Social Norms","adminLabel":"","isRequired":false,"size":"large","errorMessage":"","visibility":"hidden","inputs":null,"description":"","allowsPrepopulate":false,"inputMask":false,"inputMaskValue":"","inputMaskIsCustom":false,"maxLength":"","inputType":"","labelPlacement":"","descriptionPlacement":"","subLabelPlacement":"","placeholder":"","cssClass":"","inputName":"","noDuplicates":false,"defaultValue":"","enableAutocomplete":false,"autocompleteAttribute":"","choices":"","conditionalLogic":"","productField":"","layoutGridColumnSpan":3,"form_id":"","useRichTextEditor":false,"enableEnhancedUI":0,"layoutGroupId":"99861665","pageNumber":1,"fields":"","displayOnly":"","multipleFiles":false,"maxFiles":"","calculationFormula":"","calculationRounding":"","enableCalculation":"","disableQuantity":false,"displayAllCategories":false,"errors":[]},{"type":"textarea","id":5,"formId":19,"label":"Role Model Practices","adminLabel":"","isRequired":false,"size":"large","errorMessage":"","visibility":"hidden","inputs":null,"description":"","allowsPrepopulate":false,"inputMask":false,"inputMaskValue":"","inputMaskIsCustom":false,"maxLength":"","inputType":"","labelPlacement":"","descriptionPlacement":"","subLabelPlacement":"","placeholder":"","cssClass":"","inputName":"","noDuplicates":false,"defaultValue":"","enableAutocomplete":false,"autocompleteAttribute":"","choices":"","conditionalLogic":"","productField":"","layoutGridColumnSpan":3,"form_id":"","useRichTextEditor":false,"enableEnhancedUI":0,"layoutGroupId":"99861665","pageNumber":1,"fields":"","displayOnly":"","multipleFiles":false,"maxFiles":"","calculationFormula":"","calculationRounding":"","enableCalculation":"","disableQuantity":false,"displayAllCategories":false,"errors":[]},{"type":"textarea","id":6,"formId":19,"label":"Communication","adminLabel":"","isRequired":false,"size":"large","errorMessage":"","visibility":"hidden","inputs":null,"description":"","allowsPrepopulate":false,"inputMask":false,"inputMaskValue":"","inputMaskIsCustom":false,"maxLength":"","inputType":"","labelPlacement":"","descriptionPlacement":"","subLabelPlacement":"","placeholder":"","cssClass":"","inputName":"","noDuplicates":false,"defaultValue":"","enableAutocomplete":false,"autocompleteAttribute":"","choices":"","conditionalLogic":"","productField":"","layoutGridColumnSpan":3,"form_id":"","useRichTextEditor":false,"enableEnhancedUI":0,"layoutGroupId":"99861665","multipleFiles":false,"maxFiles":"","calculationFormula":"","calculationRounding":"","enableCalculation":"","disableQuantity":false,"displayAllCategories":false,"errors":[],"pageNumber":1,"fields":"","displayOnly":""},{"type":"number","id":7,"formId":19,"label":"Behaviors & Actions","adminLabel":"","isRequired":false,"size":"large","errorMessage":"","visibility":"hidden","inputs":null,"numberFormat":"decimal_dot","description":"","allowsPrepopulate":false,"inputMask":false,"inputMaskValue":"","inputMaskIsCustom":false,"maxLength":"","inputType":"","labelPlacement":"","descriptionPlacement":"","subLabelPlacement":"","placeholder":"","cssClass":"","inputName":"","noDuplicates":false,"defaultValue":"","enableAutocomplete":false,"autocompleteAttribute":"","choices":"","conditionalLogic":"","enableCalculation":false,"rangeMin":"","rangeMax":"","calculationFormula":"","productField":"","layoutGridColumnSpan":12,"enableEnhancedUI":0,"layoutGroupId":"a294dc3d","multipleFiles":false,"maxFiles":"","calculationRounding":"","disableQuantity":false,"displayAllCategories":false,"useRichTextEditor":false,"errors":[],"pageNumber":1,"fields":"","displayOnly":""}],"button":{"type":"text","text":"Done","imageUrl":"","width":"auto","location":"bottom","layoutGridColumnSpan":12,"id":"submit"},"title":"LMS Page 21","description":"","version":"2.7.15.2","id":19,"markupVersion":2,"nextFieldId":8,"useCurrentUserAsAuthor":true,"postContentTemplateEnabled":false,"postTitleTemplateEnabled":false,"postTitleTemplate":"","postContentTemplate":"","lastPageButton":null,"pagination":null,"firstPageCssClass":null,"labelPlacement":"top_label","descriptionPlacement":"below","subLabelPlacement":"below","requiredIndicator":"text","customRequiredIndicator":"(Required)","cssClass":"","saveButtonText":"Save & Continue","limitEntries":false,"limitEntriesCount":"","limitEntriesPeriod":"","limitEntriesMessage":"","scheduleForm":false,"scheduleStart":"","scheduleEnd":"","schedulePendingMessage":"","scheduleMessage":"","requireLogin":false,"requireLoginMessage":"","honeypotAction":"abort","validationSummary":false,"deprecated":"","saveEnabled":"","enableHoneypot":false,"enableAnimation":false,"save":{"enabled":false,"button":{"type":"link","text":"Save & Continue"}},"scheduleStartHour":"","scheduleStartMinute":"","scheduleStartAmpm":"","scheduleEndHour":"","scheduleEndMinute":"","scheduleEndAmpm":""}')->fields[2]->label;
        return json_decode($this->display_meta)->fields[$index]->label;
    }
}
